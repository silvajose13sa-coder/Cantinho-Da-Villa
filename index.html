<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cantinho da Villa</title>

<style>
body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
  background: #fff8e1;
}

/* HEADER */
header {
  background: url("img/vila-topo.jpg") center/cover no-repeat;
  text-align: center;
  color: white;
  padding: 60px 20px;
}
header img {
  width: 140px;
}

/* MENU */
nav {
  background: #2e7d32;
  padding: 15px;
  text-align: center;
}
nav a {
  color: white;
  font-weight: bold;
  margin: 0 10px;
  text-decoration: none;
}

/* CARD√ÅPIO */
section {
  max-width: 1000px;
  margin: 20px auto;
  background: white;
  padding: 20px;
  border-radius: 12px;
}
.card {
  background: #fff;
  padding: 15px;
  border-radius: 10px;
  box-shadow: 0 3px 6px rgba(0,0,0,.2);
  margin-bottom: 10px;
  cursor: pointer;
}

/* MODAL */
#modal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.6);
  z-index: 9999;
}
#modalContent {
  background: white;
  max-width: 350px;
  margin: 10% auto;
  padding: 20px;
  border-radius: 12px;
}
input, textarea {
  width: 100%;
  margin-top: 8px;
  padding: 8px;
}

/* CARRINHO */
#carrinho {
  position: fixed;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  background: white;
  width: 95%;
  max-width: 380px;
  padding: 15px;
  border-radius: 12px;
  box-shadow: 0 5px 15px rgba(0,0,0,.4);
  z-index: 999;
}
#carrinho ul {
  list-style: none;
  padding: 0;
  max-height: 120px;
  overflow-y: auto;
}
button {
  padding: 10px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}
.btn-add {
  background: #d32f2f;
  color: white;
  width: 100%;
}
.btn-finalizar {
  background: #25D366;
  color: white;
  width: 100%;
  margin-top: 10px;
}
</style>
</head>

<body>

<header>
  <img src="logo.png">
  <h1>Cantinho da Villa</h1>
</header>

<section>
  <h2>üçî Hamb√∫rgueres</h2>

  <div class="card" onclick="abrirModal('X-Burger',15)">
    X-Burger ‚Äì R$ 15,00
  </div>

  <div class="card" onclick="abrirModal('X-Bacon',18)">
    X-Bacon ‚Äì R$ 18,00
  </div>
</section>

<!-- MODAL -->
<div id="modal">
  <div id="modalContent">
    <h3 id="modalTitulo"></h3>

    <label>Quantidade</label>
    <input type="number" id="quantidade" value="1" min="1">

    <label>Adicionais (+ R$ 3,00 cada)</label>
    <label><input type="checkbox" value="Bacon"> Bacon</label><br>
    <label><input type="checkbox" value="Queijo"> Queijo</label><br>
    <label><input type="checkbox" value="Ovo"> Ovo</label>

    <label>Observa√ß√µes</label>
    <textarea id="obs" placeholder="Ex: sem cebola"></textarea>

    <button class="btn-add" onclick="confirmarItem()">Adicionar</button>
    <button onclick="fecharModal()">Cancelar</button>
  </div>
</div>

<!-- CARRINHO -->
<div id="carrinho">
  <h3>üõí Seu Pedido</h3>
  <ul id="lista"></ul>
  <b>Total: R$ <span id="total">0.00</span></b>
  <button class="btn-finalizar" onclick="finalizar()">Finalizar no WhatsApp</button>
</div>

<script>
let carrinho = [];
let total = 0;
let itemAtual = {};

function abrirModal(nome, preco) {
  itemAtual = { nome, preco };
  document.getElementById("modalTitulo").innerText = nome;
  document.getElementById("modal").style.display = "block";
}

function fecharModal() {
  document.getElementById("modal").style.display = "none";
}

function confirmarItem() {
  const qtd = Number(document.getElementById("quantidade").value);
  const obs = document.getElementById("obs").value;
  const adicionais = [...document.querySelectorAll("input[type=checkbox]:checked")].map(a => a.value);

  let precoFinal = itemAtual.preco * qtd + (adicionais.length * 3);

  carrinho.push({
    nome: itemAtual.nome,
    qtd,
    adicionais,
    obs,
    preco: precoFinal
  });

  total += precoFinal;
  atualizar();
  fecharModal();
}

function atualizar() {
  const lista = document.getElementById("lista");
  lista.innerHTML = "";
  carrinho.forEach(item => {
    lista.innerHTML += `<li>${item.qtd}x ${item.nome} ‚Äì R$ ${item.preco.toFixed(2)}</li>`;
  });
  document.getElementById("total").innerText = total.toFixed(2);
}

function finalizar() {
  let msg = "üßæ *Pedido Cantinho da Villa*%0A%0A";
  carrinho.forEach(i => {
    msg += `‚Ä¢ ${i.qtd}x ${i.nome}%0A`;
    if (i.adicionais.length) msg += `  ‚ûï ${i.adicionais.join(", ")}%0A`;
    if (i.obs) msg += `  üìù ${i.obs}%0A`;
  });
  msg += `%0Aüí∞ Total: R$ ${total.toFixed(2)}`;
  window.open(`https://wa.me/5511913533982?text=${msg}`);
}
</script>

</body>
</html>
