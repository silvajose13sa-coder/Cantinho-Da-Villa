<!DOCTYPE html>  <html lang="pt-BR">  
<head>  
<meta charset="UTF-8">  
<meta name="viewport" content="width=device-width, initial-scale=1.0">  
<title>Cantinho da Villa</title>  <style>  
*{box-sizing:border-box;margin:0;padding:0}  
body{font-family:Arial,Helvetica,sans-serif;background:#fff8e1}  
  
/* TOPO */  
header{  
  background:url("img/vila-topo.jpg") center/cover no-repeat;  
  text-align:center;  
  color:#fff;  
  padding:70px 20px;  
}  
header img{width:140px}  
header h1{text-shadow:2px 2px 6px #000}  
  
/* MENU */  
nav{  
  display:flex;  
  justify-content:center;  
  gap:10px;  
  background:#2e7d32;  
  padding:12px;  
  flex-wrap:wrap;  
}  
nav button{  
  background:#fff;  
  border:none;  
  padding:10px 16px;  
  border-radius:20px;  
  font-weight:bold;  
  cursor:pointer;  
}  
  
/* FUNDO */  
.menu-bg{  
  background:url("img/restaurante.webp") center/cover no-repeat;  
  padding:30px 15px;  
}  
  
section{  
  background:rgba(255,255,255,.95);  
  max-width:1000px;  
  margin:auto;  
  padding:20px;  
  border-radius:14px;  
}  
h2{text-align:center;color:#b71c1c}  
  
.grid{  
  display:grid;  
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr));  
  gap:15px;  
  margin-top:15px;  
}  
.card{  
  background:#fff;  
  padding:15px;  
  border-radius:10px;  
  box-shadow:0 4px 10px rgba(0,0,0,.2);  
}  
.card button{  
  width:100%;  
  padding:8px;  
  margin-top:8px;  
  background:#d32f2f;  
  color:#fff;  
  border:none;  
  border-radius:6px;  
}  
  
/* CARRINHO */  
.cart-btn{  
  position:fixed;  
  bottom:20px;  
  right:20px;  
  background:#d32f2f;  
  color:#fff;  
  padding:14px 18px;  
  border-radius:30px;  
  font-weight:bold;  
  cursor:pointer;  
  z-index:9999;  
}  
.cart-panel{  
  position:fixed;  
  bottom:0;  
  left:0;  
  width:100%;  
  max-height:85%;  
  background:#fff;  
  border-radius:16px 16px 0 0;  
  transform:translateY(100%);  
  transition:.3s;  
  z-index:9999;  
  padding:15px;  
  overflow:auto;  
}  
.cart-panel.active{transform:translateY(0)}  
.item{display:flex;justify-content:space-between;margin-bottom:6px}  
  
input,textarea{  
  width:100%;  
  margin-top:6px;  
  padding:8px;  
  border-radius:6px;  
  border:1px solid #ccc;  
}  
.finalizar{  
  background:#25D366;  
  color:#fff;  
  padding:12px;  
  border:none;  
  width:100%;  
  margin-top:10px;  
  border-radius:8px;  
  font-weight:bold;  
}  
  
/* FOOTER */  
footer{  
  background:url("img/vila-topo.jpg") center/cover no-repeat;  
  text-align:center;  
  padding:25px;  
}  
footer img{width:40px;margin:10px}  
</style>  </head>  <body>  <header>  
  <img src="logo.png">  
  <h1>Cantinho da Villa</h1>  
</header>  <nav>  
  <button onclick="abrirPainel()">üîí Painel do Chefe</button>  
  <button onclick="mostrar('hamb')">üçî Hamb√∫rguer</button>  
  <button onclick="mostrar('hot')">üå≠ Hot Dog</button>  
  <button onclick="mostrar('beb')">ü•§ Bebidas</button>  
  <button onclick="mostrar('combo')">üéÅ Combos</button>  
  <button onclick="mostrar('batata')">üçü Batatas</button>
</nav>  <div class="menu-bg">  
<section>  
<h2 id="titulo">Escolha uma categoria</h2>  
<div class="grid" id="menu"></div>  
</section>  
</div>  <div class="cart-btn" onclick="toggleCart()">üõí Pedido (<span id="qtd">0</span>)</div>  <div class="cart-panel" id="cart">  
  <h3>Seu Pedido</h3>  
  <div id="items"></div>  
  <p>Taxa entrega: R$ 3,50</p>  
  <p><b>Total: R$ <span id="total">0</span></b></p>  
  <button class="finalizar" onclick="finalizar()">Finalizar no WhatsApp</button>  
</div>  <!-- PAINEL -->  <div id="painel" style="display:none;position:fixed;inset:0;background:#0008;z-index:99999">  
 <div style="background:#fff;max-width:500px;margin:40px auto;padding:20px;border-radius:12px">  
  <h2>Painel do Chefe</h2>  
  <input id="senhaPainel" type="password" placeholder="Senha">  
  <button onclick="entrarPainel()">Entrar</button>  
  <div id="conteudoPainel" style="margin-top:15px"></div>  
  <button onclick="fecharPainel()">Fechar</button>  
 </div>  
</div>  <!-- FIREBASE -->  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>  <script>  
firebase.initializeApp({  
  apiKey: "AIzaSyB98Yu2YieFD2DPFQPAWhMb36zMb2TkM6g",  
  authDomain: "cantinho-da-villa.firebaseapp.com",  
  projectId: "cantinho-da-villa"  
});  
const db = firebase.firestore();  
  
const SENHA = "s@Samuel2018";  
const taxa = 3.5;  
let carrinho = [];  
let dados = {};  
  
async function carregarDados(){  
 const ref = db.collection("produtos").doc("cardapio");  
 const doc = await ref.get();  
 if(!doc.exists){  
   dados = {  
    hamb:[{nome:"X-Burger",preco:15,ativo:true}],  
    hot:[],  
    beb:[],  
    combo:[],
    batata:[]
   };  
   await ref.set(dados);  
 }else{  
   dados = doc.data();  
 }  
}  
carregarDados();  
  
async function salvarDados(){  
 await db.collection("produtos").doc("cardapio").set(dados);  
}  
  
function mostrar(cat){  
 menu.innerHTML="";  
 titulo.innerText=cat.toUpperCase();  
 dados[cat].forEach(i=>{  
  if(!i.ativo) return;  
  menu.innerHTML+=`  
   <div class="card">  
    <h3>${i.nome}</h3>  
    <p>R$ ${i.preco}</p>  
    <button onclick="add('${i.nome}',${i.preco})">Adicionar</button>  
   </div>`;  
 });  
}  
  
function add(n,p){carrinho.push({n,p});render()}  
function render(){  
 let t=taxa,html="";  
 carrinho.forEach((i,idx)=>{  
  t+=i.p;  
  html+=`${i.n} <button onclick="carrinho.splice(${idx},1);render()">‚ùå</button><br>`;  
 });  
 items.innerHTML=html;  
 total.innerText=t.toFixed(2);  
 qtd.innerText=carrinho.length;  
}  
  
function toggleCart(){cart.classList.toggle("active")}  
function finalizar(){  
 let msg="Pedido Cantinho da Villa%0A";  
 carrinho.forEach(i=>msg+=`- ${i.n}%0A`);  
 msg+=`Total: R$ ${total.innerText}`;  
 window.open(`https://wa.me/5511913533982?text=${msg}`);  
}  
  
function abrirPainel(){painel.style.display="block"}  
function fecharPainel(){painel.style.display="none"}  
  
function entrarPainel(){  
 if(senhaPainel.value!==SENHA){alert("Senha incorreta");return}  
 renderPainel();  
}  
  
function renderPainel(){  
 let html="";  
 for(let cat in dados){  
  html+=`<h3>${cat}</h3>`;  
  dados[cat].forEach((i,idx)=>{  
   html+=`  
    ${i.nome}  
    <input type="number" value="${i.preco}"   
      onchange="dados['${cat}'][${idx}].preco=this.value;salvarDados()">  
    <button onclick="dados['${cat}'][${idx}].ativo=!dados['${cat}'][${idx}].ativo;salvarDados();renderPainel()">  
     ${i.ativo?"ON":"OFF"}  
    </button><br>`;  
  });  
 }  
 conteudoPainel.innerHTML=html;  
}  
</script>  <script type="module">  
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";  
  import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";  
  
  const firebaseConfig = {  
    apiKey: "AIzaSyB98YU2YIeFD2DPFQPAWhMb36zMb2TKM6g",  
    authDomain: "cantinho-da-villa.firebaseapp.com",  
    projectId: "cantinho-da-villa",  
    storageBucket: "cantinho-da-villa.appspot.com",  
    messagingSenderId: "865973139564",  
    appId: "1:865973139564:web:65fb55e16e39294e958049"  
  };  
  
  const app = initializeApp(firebaseConfig);  
  const db = getFirestore(app);  
  
  await setDoc(  
    doc(db, "produtos", "cardapio"),  
    {  
      hamb: [  
        { nome: "X-Burger", preco: 15, ativo: true },  
        { nome: "X-Salada", preco: 17, ativo: true },  
        { nome: "X-Bacon", preco: 19, ativo: true }  
      ],  
      hot: [  
        { nome: "Hot Simples", preco: 10, ativo: true },  
        { nome: "Hot Bacon", preco: 14, ativo: true }  
      ],  
      beb: [  
        { nome: "Refrigerante", preco: 5, ativo: true },  
        { nome: "√Ågua", preco: 3, ativo: true }  
      ],  
      combo: [  
        { nome: "Combo 1", preco: 25, ativo: true },
        { nome: "Combo 3", preco: 25, ativo: true }
      ],  
      batata: [
        { nome: "Batata Pequena", preco: 8, ativo: true },
        { nome: "Batata M√©dia", preco: 12, ativo: true },
        { nome: "Batata Grande", preco: 16, ativo: true },
        { nome: "Batata com Cheddar", preco: 18, ativo: true },
        { nome: "Batata com Bacon", preco: 20, ativo: true }
]
    },  
    { merge: true }  
  );  
  
  alert("Card√°pio salvo com sucesso no Firestore!");  
</script>  </body>  
</html>
